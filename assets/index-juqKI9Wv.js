(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();const an=!1,hn=(e,t)=>e===t,Ue=Symbol("solid-proxy"),dn=typeof Proxy=="function",de={equals:hn};let _t=Et;const z=1,pe=2,xt={owned:null,cleanups:null,context:null,owner:null};var g=null;let Te=null,pn=null,w=null,P=null,T=null,Pe=0;function vn(e,t){const n=w,r=g,i=e.length===0,o=t===void 0?r:t,u=i?xt:{owned:null,cleanups:null,context:o?o.context:null,owner:o},s=i?e:()=>e(()=>Oe(()=>ee(u)));g=u,w=null;try{return se(s,!0)}finally{w=n,g=r}}function St(e,t){t=t?Object.assign({},de,t):de;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=i=>(typeof i=="function"&&(i=i(n.value)),Ot(n,i));return[Pt.bind(n),r]}function N(e,t,n){const r=Xe(e,t,!1,z);oe(r)}function yn(e,t,n){_t=gn;const r=Xe(e,t,!1,z);r.user=!0,T?T.push(r):oe(r)}function He(e,t,n){n=n?Object.assign({},de,n):de;const r=Xe(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,oe(r),Pt.bind(r)}function Oe(e){if(w===null)return e();const t=w;w=null;try{return e()}finally{w=t}}function st(e){return g===null||(g.cleanups===null?g.cleanups=[e]:g.cleanups.push(e)),e}function Pt(){if(this.sources&&this.state)if(this.state===z)oe(this);else{const e=P;P=null,se(()=>ye(this),!1),P=e}if(w){const e=this.observers?this.observers.length:0;w.sources?(w.sources.push(this),w.sourceSlots.push(e)):(w.sources=[this],w.sourceSlots=[e]),this.observers?(this.observers.push(w),this.observerSlots.push(w.sources.length-1)):(this.observers=[w],this.observerSlots=[w.sources.length-1])}return this.value}function Ot(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&se(()=>{for(let i=0;i<e.observers.length;i+=1){const o=e.observers[i],u=Te&&Te.running;u&&Te.disposed.has(o),(u?!o.tState:!o.state)&&(o.pure?P.push(o):T.push(o),o.observers&&At(o)),u||(o.state=z)}if(P.length>1e6)throw P=[],new Error},!1)),t}function oe(e){if(!e.fn)return;ee(e);const t=Pe;mn(e,e.value,t)}function mn(e,t,n){let r;const i=g,o=w;w=g=e;try{r=e.fn(t)}catch(u){return e.pure&&(e.state=z,e.owned&&e.owned.forEach(ee),e.owned=null),e.updatedAt=n+1,It(u)}finally{w=o,g=i}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Ot(e,r):e.value=r,e.updatedAt=n)}function Xe(e,t,n,r=z,i){const o={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:g,context:g?g.context:null,pure:n};return g===null||g!==xt&&(g.owned?g.owned.push(o):g.owned=[o]),o}function ve(e){if(e.state===0)return;if(e.state===pe)return ye(e);if(e.suspense&&Oe(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Pe);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===z)oe(e);else if(e.state===pe){const r=P;P=null,se(()=>ye(e,t[0]),!1),P=r}}function se(e,t){if(P)return e();let n=!1;t||(P=[]),T?n=!0:T=[],Pe++;try{const r=e();return wn(n),r}catch(r){n||(T=null),P=null,It(r)}}function wn(e){if(P&&(Et(P),P=null),e)return;const t=T;T=null,t.length&&se(()=>_t(t),!1)}function Et(e){for(let t=0;t<e.length;t++)ve(e[t])}function gn(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:ve(r)}for(t=0;t<n;t++)ve(e[t])}function ye(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const i=r.state;i===z?r!==t&&(!r.updatedAt||r.updatedAt<Pe)&&ve(r):i===pe&&ye(r,t)}}}function At(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=pe,n.pure?P.push(n):T.push(n),n.observers&&At(n))}}function ee(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const o=i.pop(),u=n.observerSlots.pop();r<i.length&&(o.sourceSlots[u]=r,i[r]=o,n.observerSlots[r]=u)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)ee(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)ee(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function bn(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function It(e,t=g){throw bn(e)}function me(e,t=void 0){const[n,r]=St(t,{equals:!1});if("subscribe"in e){const i=e.subscribe(o=>r(()=>o));st(()=>"unsubscribe"in i?i.unsubscribe():i())}else{const i=e(r);st(i)}return n}function j(e,t){return Oe(()=>e(t||{}))}function fe(){return!0}const _n={get(e,t,n){return t===Ue?n:e.get(t)},has(e,t){return t===Ue?!0:e.has(t)},set:fe,deleteProperty:fe,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:fe,deleteProperty:fe}},ownKeys(e){return e.keys()}};function je(e){return(e=typeof e=="function"?e():e)?e:{}}function xn(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function Sn(...e){let t=!1;for(let u=0;u<e.length;u++){const s=e[u];t=t||!!s&&Ue in s,e[u]=typeof s=="function"?(t=!0,He(s)):s}if(dn&&t)return new Proxy({get(u){for(let s=e.length-1;s>=0;s--){const l=je(e[s])[u];if(l!==void 0)return l}},has(u){for(let s=e.length-1;s>=0;s--)if(u in je(e[s]))return!0;return!1},keys(){const u=[];for(let s=0;s<e.length;s++)u.push(...Object.keys(je(e[s])));return[...new Set(u)]}},_n);const n={},r=Object.create(null);for(let u=e.length-1;u>=0;u--){const s=e[u];if(!s)continue;const l=Object.getOwnPropertyNames(s);for(let c=l.length-1;c>=0;c--){const f=l[c];if(f==="__proto__"||f==="constructor")continue;const a=Object.getOwnPropertyDescriptor(s,f);if(!r[f])r[f]=a.get?{enumerable:!0,configurable:!0,get:xn.bind(n[f]=[a.get.bind(s)])}:a.value!==void 0?a:void 0;else{const d=n[f];d&&(a.get?d.push(a.get.bind(s)):a.value!==void 0&&d.push(()=>a.value))}}}const i={},o=Object.keys(r);for(let u=o.length-1;u>=0;u--){const s=o[u],l=r[s];l&&l.get?Object.defineProperty(i,s,l):i[s]=l?l.value:void 0}return i}function Pn(e,t,n){let r=n.length,i=t.length,o=r,u=0,s=0,l=t[i-1].nextSibling,c=null;for(;u<i||s<o;){if(t[u]===n[s]){u++,s++;continue}for(;t[i-1]===n[o-1];)i--,o--;if(i===u){const f=o<r?s?n[s-1].nextSibling:n[o-s]:l;for(;s<o;)e.insertBefore(n[s++],f)}else if(o===s)for(;u<i;)(!c||!c.has(t[u]))&&t[u].remove(),u++;else if(t[u]===n[o-1]&&n[s]===t[i-1]){const f=t[--i].nextSibling;e.insertBefore(n[s++],t[u++].nextSibling),e.insertBefore(n[--o],f),t[i]=n[o]}else{if(!c){c=new Map;let a=s;for(;a<o;)c.set(n[a],a++)}const f=c.get(t[u]);if(f!=null)if(s<f&&f<o){let a=u,d=1,h;for(;++a<i&&a<o&&!((h=c.get(t[a]))==null||h!==f+d);)d++;if(d>f-s){const v=t[u];for(;s<f;)e.insertBefore(n[s++],v)}else e.replaceChild(n[s++],t[u++])}else u++;else t[u++].remove()}}}const ut="_$DX_DELEGATE";function On(e,t,n,r={}){let i;return vn(o=>{i=o,t===document?e():U(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{i(),t.textContent=""}}function D(e,t,n,r){let i;const o=()=>{const s=document.createElement("template");return s.innerHTML=e,s.content.firstChild},u=()=>(i||(i=o())).cloneNode(!0);return u.cloneNode=u,u}function En(e,t=window.document){const n=t[ut]||(t[ut]=new Set);for(let r=0,i=e.length;r<i;r++){const o=e[r];n.has(o)||(n.add(o),t.addEventListener(o,In))}}function Ct(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function An(e,t,n){return Oe(()=>e(t,n))}function U(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return we(e,t,r,n);N(i=>we(e,t(),i,n),r)}function In(e){let t=e.target;const n=`$$${e.type}`,r=e.target,i=e.currentTarget,o=l=>Object.defineProperty(e,"target",{configurable:!0,value:l}),u=()=>{const l=t[n];if(l&&!t.disabled){const c=t[`${n}Data`];if(c!==void 0?l.call(t,c,e):l.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&o(t.host),!0},s=()=>{for(;u()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const l=e.composedPath();o(l[0]);for(let c=0;c<l.length-2&&(t=l[c],!!u());c++){if(t._$host){t=t._$host,s();break}if(t.parentNode===i)break}}else s();o(r)}function we(e,t,n,r,i){for(;typeof n=="function";)n=n();if(t===n)return n;const o=typeof t,u=r!==void 0;if(e=u&&n[0]&&n[0].parentNode||e,o==="string"||o==="number"){if(o==="number"&&(t=t.toString(),t===n))return n;if(u){let s=n[0];s&&s.nodeType===3?s.data!==t&&(s.data=t):s=document.createTextNode(t),n=K(e,n,r,s)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||o==="boolean")n=K(e,n,r);else{if(o==="function")return N(()=>{let s=t();for(;typeof s=="function";)s=s();n=we(e,s,n,r)}),()=>n;if(Array.isArray(t)){const s=[],l=n&&Array.isArray(n);if(Le(s,t,n,i))return N(()=>n=we(e,s,n,r,!0)),()=>n;if(s.length===0){if(n=K(e,n,r),u)return n}else l?n.length===0?lt(e,s,r):Pn(e,n,s):(n&&K(e),lt(e,s));n=s}else if(t.nodeType){if(Array.isArray(n)){if(u)return n=K(e,n,r,t);K(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function Le(e,t,n,r){let i=!1;for(let o=0,u=t.length;o<u;o++){let s=t[o],l=n&&n[e.length],c;if(!(s==null||s===!0||s===!1))if((c=typeof s)=="object"&&s.nodeType)e.push(s);else if(Array.isArray(s))i=Le(e,s,l)||i;else if(c==="function")if(r){for(;typeof s=="function";)s=s();i=Le(e,Array.isArray(s)?s:[s],Array.isArray(l)?l:[l])||i}else e.push(s),i=!0;else{const f=String(s);l&&l.nodeType===3&&l.data===f?e.push(l):e.push(document.createTextNode(f))}}return i}function lt(e,t,n=null){for(let r=0,i=t.length;r<i;r++)e.insertBefore(t[r],n)}function K(e,t,n,r){if(n===void 0)return e.textContent="";const i=r||document.createTextNode("");if(t.length){let o=!1;for(let u=t.length-1;u>=0;u--){const s=t[u];if(i!==s){const l=s.parentNode===e;!o&&!u?l?e.replaceChild(i,s):e.insertBefore(i,n):l&&s.remove()}else o=!0}}else e.insertBefore(i,n);return[i]}function F(e,t){return e+Math.random()*(t-e)}function Cn(){let e=F(0,255),t=F(0,255),n=F(0,255);return`rgb(${e}, ${t}, ${n})`}function ct(){return Math.random()<.5?1:-1}var Ne=function(e,t){return Ne=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Ne(e,t)};function k(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ne(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function $n(e,t,n,r){function i(o){return o instanceof n?o:new n(function(u){u(o)})}return new(n||(n=Promise))(function(o,u){function s(f){try{c(r.next(f))}catch(a){u(a)}}function l(f){try{c(r.throw(f))}catch(a){u(a)}}function c(f){f.done?o(f.value):i(f.value).then(s,l)}c((r=r.apply(e,t||[])).next())})}function $t(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=s(0),u.throw=s(1),u.return=s(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(c){return function(f){return l([c,f])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(f){c=[6,f],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function R(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function B(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],u;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){u={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(u)throw u.error}}return o}function q(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function G(e){return this instanceof G?(this.v=e,this):new G(e)}function Tn(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",u),i[Symbol.asyncIterator]=function(){return this},i;function u(h){return function(v){return Promise.resolve(v).then(h,a)}}function s(h,v){r[h]&&(i[h]=function(p){return new Promise(function(b,y){o.push([h,p,b,y])>1||l(h,p)})},v&&(i[h]=v(i[h])))}function l(h,v){try{c(r[h](v))}catch(p){d(o[0][3],p)}}function c(h){h.value instanceof G?Promise.resolve(h.value.v).then(f,a):d(o[0][2],h)}function f(h){l("next",h)}function a(h){l("throw",h)}function d(h,v){h(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function jn(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof R=="function"?R(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(u){return new Promise(function(s,l){u=e[o](u),i(s,l,u.done,u.value)})}}function i(o,u,s,l){Promise.resolve(l).then(function(c){o({value:c,done:s})},u)}}function m(e){return typeof e=="function"}function Ze(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Re=Ze(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function te(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var ue=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,i,o;if(!this.closed){this.closed=!0;var u=this._parentage;if(u)if(this._parentage=null,Array.isArray(u))try{for(var s=R(u),l=s.next();!l.done;l=s.next()){var c=l.value;c.remove(this)}}catch(p){t={error:p}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}else u.remove(this);var f=this.initialTeardown;if(m(f))try{f()}catch(p){o=p instanceof Re?p.errors:[p]}var a=this._finalizers;if(a){this._finalizers=null;try{for(var d=R(a),h=d.next();!h.done;h=d.next()){var v=h.value;try{ft(v)}catch(p){o=o??[],p instanceof Re?o=q(q([],B(o)),B(p.errors)):o.push(p)}}}catch(p){r={error:p}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}}if(o)throw new Re(o)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)ft(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&te(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&te(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),Tt=ue.EMPTY;function jt(e){return e instanceof ue||e&&"closed"in e&&m(e.remove)&&m(e.add)&&m(e.unsubscribe)}function ft(e){m(e)?e():e.unsubscribe()}var Rn={Promise:void 0},Dn={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,q([e,t],B(n)))},clearTimeout:function(e){return clearTimeout(e)},delegate:void 0};function Rt(e){Dn.setTimeout(function(){throw e})}function ge(){}function he(e){e()}var Je=function(e){k(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,jt(n)&&n.add(r)):r.destination=zn,r}return t.create=function(n,r,i){return new ne(n,r,i)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(ue),kn=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){ae(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){ae(r)}else ae(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){ae(n)}},e}(),ne=function(e){k(t,e);function t(n,r,i){var o=e.call(this)||this,u;return m(n)||!n?u={next:n??void 0,error:r??void 0,complete:i??void 0}:u=n,o.destination=new kn(u),o}return t}(Je);function ae(e){Rt(e)}function Fn(e){throw e}var zn={closed:!0,next:ge,error:Fn,complete:ge},Qe=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Z(e){return e}function Mn(e){return e.length===0?Z:e.length===1?e[0]:function(n){return e.reduce(function(r,i){return i(r)},n)}}var E=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var i=this,o=Ln(t)?t:new ne(t,n,r);return he(function(){var u=i,s=u.operator,l=u.source;o.add(s?s.call(o,l):l?i._subscribe(o):i._trySubscribe(o))}),o},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=at(n),new n(function(i,o){var u=new ne({next:function(s){try{t(s)}catch(l){o(l),u.unsubscribe()}},error:o,complete:i});r.subscribe(u)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[Qe]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Mn(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=at(t),new t(function(r,i){var o;n.subscribe(function(u){return o=u},function(u){return i(u)},function(){return r(o)})})},e.create=function(t){return new e(t)},e}();function at(e){var t;return(t=e??Rn.Promise)!==null&&t!==void 0?t:Promise}function Un(e){return e&&m(e.next)&&m(e.error)&&m(e.complete)}function Ln(e){return e&&e instanceof Je||Un(e)&&jt(e)}function Nn(e){return m(e?.lift)}function x(e){return function(t){if(Nn(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function _(e,t,n,r,i){return new Bn(e,t,n,r,i)}var Bn=function(e){k(t,e);function t(n,r,i,o,u,s){var l=e.call(this,n)||this;return l.onFinalize=u,l.shouldUnsubscribe=s,l._next=r?function(c){try{r(c)}catch(f){n.error(f)}}:e.prototype._next,l._error=o?function(c){try{o(c)}catch(f){n.error(f)}finally{this.unsubscribe()}}:e.prototype._error,l._complete=i?function(){try{i()}catch(c){n.error(c)}finally{this.unsubscribe()}}:e.prototype._complete,l}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(Je),qn=Ze(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Ee=function(e){k(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new ht(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new qn},t.prototype.next=function(n){var r=this;he(function(){var i,o;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var u=R(r.currentObservers),s=u.next();!s.done;s=u.next()){var l=s.value;l.next(n)}}catch(c){i={error:c}}finally{try{s&&!s.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}}})},t.prototype.error=function(n){var r=this;he(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},t.prototype.complete=function(){var n=this;he(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,i=this,o=i.hasError,u=i.isStopped,s=i.observers;return o||u?Tt:(this.currentObservers=null,s.push(n),new ue(function(){r.currentObservers=null,te(s,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,o=r.thrownError,u=r.isStopped;i?n.error(o):u&&n.complete()},t.prototype.asObservable=function(){var n=new E;return n.source=this,n},t.create=function(n,r){return new ht(n,r)},t}(E),ht=function(e){k(t,e);function t(n,r){var i=e.call(this)||this;return i.destination=n,i.source=r,i}return t.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},t.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:Tt},t}(Ee),et={now:function(){return(et.delegate||Date).now()},delegate:void 0},Wn=function(e){k(t,e);function t(n,r,i){n===void 0&&(n=1/0),r===void 0&&(r=1/0),i===void 0&&(i=et);var o=e.call(this)||this;return o._bufferSize=n,o._windowTime=r,o._timestampProvider=i,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=r===1/0,o._bufferSize=Math.max(1,n),o._windowTime=Math.max(1,r),o}return t.prototype.next=function(n){var r=this,i=r.isStopped,o=r._buffer,u=r._infiniteTimeWindow,s=r._timestampProvider,l=r._windowTime;i||(o.push(n),!u&&o.push(s.now()+l)),this._trimBuffer(),e.prototype.next.call(this,n)},t.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),i=this,o=i._infiniteTimeWindow,u=i._buffer,s=u.slice(),l=0;l<s.length&&!n.closed;l+=o?1:2)n.next(s[l]);return this._checkFinalizedStatuses(n),r},t.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,i=n._timestampProvider,o=n._buffer,u=n._infiniteTimeWindow,s=(u?1:2)*r;if(r<1/0&&s<o.length&&o.splice(0,o.length-s),!u){for(var l=i.now(),c=0,f=1;f<o.length&&o[f]<=l;f+=2)c=f;c&&o.splice(0,c+1)}},t}(Ee),Vn=function(e){k(t,e);function t(n,r){return e.call(this)||this}return t.prototype.schedule=function(n,r){return this},t}(ue),dt={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setInterval.apply(void 0,q([e,t],B(n)))},clearInterval:function(e){return clearInterval(e)},delegate:void 0},Yn=function(e){k(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return t.prototype.schedule=function(n,r){var i;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var o=this.id,u=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(u,o,r)),this.pending=!0,this.delay=r,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(u,this.id,r),this},t.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),dt.setInterval(n.flush.bind(n,this),i)},t.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;r!=null&&dt.clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var i=!1,o;try{this.work(n)}catch(u){i=!0,o=u||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o},t.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,i=n.scheduler,o=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,te(o,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(Vn),pt=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(r,n)},e.now=et.now,e}(),Kn=function(e){k(t,e);function t(n,r){r===void 0&&(r=pt.now);var i=e.call(this,n,r)||this;return i.actions=[],i._active=!1,i}return t.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,i){for(;n=r.shift();)n.unsubscribe();throw i}},t}(pt),tt=new Kn(Yn),Gn=tt,be=new E(function(e){return e.complete()});function Dt(e){return e&&m(e.schedule)}function kt(e){return e[e.length-1]}function Hn(e){return m(kt(e))?e.pop():void 0}function Ft(e){return Dt(kt(e))?e.pop():void 0}var zt=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function Mt(e){return m(e?.then)}function Ut(e){return m(e[Qe])}function Lt(e){return Symbol.asyncIterator&&m(e?.[Symbol.asyncIterator])}function Nt(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Xn(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Bt=Xn();function qt(e){return m(e?.[Bt])}function Wt(e){return Tn(this,arguments,function(){var n,r,i,o;return $t(this,function(u){switch(u.label){case 0:n=e.getReader(),u.label=1;case 1:u.trys.push([1,,9,10]),u.label=2;case 2:return[4,G(n.read())];case 3:return r=u.sent(),i=r.value,o=r.done,o?[4,G(void 0)]:[3,5];case 4:return[2,u.sent()];case 5:return[4,G(i)];case 6:return[4,u.sent()];case 7:return u.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function Vt(e){return m(e?.getReader)}function $(e){if(e instanceof E)return e;if(e!=null){if(Ut(e))return Zn(e);if(zt(e))return Jn(e);if(Mt(e))return Qn(e);if(Lt(e))return Yt(e);if(qt(e))return er(e);if(Vt(e))return tr(e)}throw Nt(e)}function Zn(e){return new E(function(t){var n=e[Qe]();if(m(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Jn(e){return new E(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function Qn(e){return new E(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,Rt)})}function er(e){return new E(function(t){var n,r;try{for(var i=R(e),o=i.next();!o.done;o=i.next()){var u=o.value;if(t.next(u),t.closed)return}}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.complete()})}function Yt(e){return new E(function(t){nr(e,t).catch(function(n){return t.error(n)})})}function tr(e){return Yt(Wt(e))}function nr(e,t){var n,r,i,o;return $n(this,void 0,void 0,function(){var u,s;return $t(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=jn(e),l.label=1;case 1:return[4,n.next()];case 2:if(r=l.sent(),!!r.done)return[3,4];if(u=r.value,t.next(u),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=l.sent(),i={error:s},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function L(e,t,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function Kt(e,t){return t===void 0&&(t=0),x(function(n,r){n.subscribe(_(r,function(i){return L(r,e,function(){return r.next(i)},t)},function(){return L(r,e,function(){return r.complete()},t)},function(i){return L(r,e,function(){return r.error(i)},t)}))})}function Gt(e,t){return t===void 0&&(t=0),x(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function rr(e,t){return $(e).pipe(Gt(t),Kt(t))}function ir(e,t){return $(e).pipe(Gt(t),Kt(t))}function or(e,t){return new E(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function sr(e,t){return new E(function(n){var r;return L(n,t,function(){r=e[Bt](),L(n,t,function(){var i,o,u;try{i=r.next(),o=i.value,u=i.done}catch(s){n.error(s);return}u?n.complete():n.next(o)},0,!0)}),function(){return m(r?.return)&&r.return()}})}function Ht(e,t){if(!e)throw new Error("Iterable cannot be null");return new E(function(n){L(n,t,function(){var r=e[Symbol.asyncIterator]();L(n,t,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function ur(e,t){return Ht(Wt(e),t)}function lr(e,t){if(e!=null){if(Ut(e))return rr(e,t);if(zt(e))return or(e,t);if(Mt(e))return ir(e,t);if(Lt(e))return Ht(e,t);if(qt(e))return sr(e,t);if(Vt(e))return ur(e,t)}throw Nt(e)}function Xt(e,t){return t?lr(e,t):$(e)}function Zt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ft(e);return Xt(e,n)}var Jt=Ze(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function cr(e){return e instanceof Date&&!isNaN(e)}function W(e,t){return x(function(n,r){var i=0;n.subscribe(_(r,function(o){r.next(e.call(t,o,i++))}))})}function fr(e,t,n,r,i,o,u,s){var l=[],c=0,f=0,a=!1,d=function(){a&&!l.length&&!c&&t.complete()},h=function(p){return c<r?v(p):l.push(p)},v=function(p){c++;var b=!1;$(n(p,f++)).subscribe(_(t,function(y){t.next(y)},function(){b=!0},void 0,function(){if(b)try{c--;for(var y=function(){var J=l.shift();u||v(J)};l.length&&c<r;)y();d()}catch(J){t.error(J)}}))};return e.subscribe(_(t,h,function(){a=!0,d()})),function(){}}function nt(e,t,n){return n===void 0&&(n=1/0),m(t)?nt(function(r,i){return W(function(o,u){return t(r,o,i,u)})($(e(r,i)))},n):(typeof t=="number"&&(n=t),x(function(r,i){return fr(r,i,e,n)}))}function ar(e){return nt(Z,e)}function hr(){return ar(1)}function dr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return hr()(Xt(e,Ft(e)))}function Qt(e,t,n){e===void 0&&(e=0),n===void 0&&(n=Gn);var r=-1;return t!=null&&(Dt(t)?n=t:r=t),new E(function(i){var o=cr(e)?+e-n.now():e;o<0&&(o=0);var u=0;return n.schedule(function(){i.closed||(i.next(u++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function pr(e,t){return t===void 0&&(t=tt),Qt(e,e,t)}function Be(e,t){return x(function(n,r){var i=0;n.subscribe(_(r,function(o){return e.call(t,o,i++)&&r.next(o)}))})}function vr(e,t){return t===void 0&&(t=null),t=t??e,x(function(n,r){var i=[],o=0;n.subscribe(_(r,function(u){var s,l,c,f,a=null;o++%t===0&&i.push([]);try{for(var d=R(i),h=d.next();!h.done;h=d.next()){var v=h.value;v.push(u),e<=v.length&&(a=a??[],a.push(v))}}catch(y){s={error:y}}finally{try{h&&!h.done&&(l=d.return)&&l.call(d)}finally{if(s)throw s.error}}if(a)try{for(var p=R(a),b=p.next();!b.done;b=p.next()){var v=b.value;te(i,v),r.next(v)}}catch(y){c={error:y}}finally{try{b&&!b.done&&(f=p.return)&&f.call(p)}finally{if(c)throw c.error}}},function(){var u,s;try{for(var l=R(i),c=l.next();!c.done;c=l.next()){var f=c.value;r.next(f)}}catch(a){u={error:a}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(u)throw u.error}}r.complete()},void 0,function(){i=null}))})}function en(e){return x(function(t,n){var r=null,i=!1,o;r=t.subscribe(_(n,void 0,void 0,function(u){o=$(e(u,en(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function yr(e,t,n,r,i){return function(o,u){var s=n,l=t,c=0;o.subscribe(_(u,function(f){var a=c++;l=s?e(l,f,a):(s=!0,f),u.next(l)},i))}}function mr(e){return x(function(t,n){var r=!1;t.subscribe(_(n,function(i){r=!0,n.next(i)},function(){r||n.next(e),n.complete()}))})}function wr(e){return e<=0?function(){return be}:x(function(t,n){var r=0;t.subscribe(_(n,function(i){++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function gr(e,t){return t===void 0&&(t=Z),e=e??br,x(function(n,r){var i,o=!0;n.subscribe(_(r,function(u){var s=t(u);(o||!e(i,s))&&(o=!1,i=s,r.next(u))}))})}function br(e,t){return e===t}function _r(e){return e===void 0&&(e=xr),x(function(t,n){var r=!1;t.subscribe(_(n,function(i){r=!0,n.next(i)},function(){return r?n.complete():n.error(e())}))})}function xr(){return new Jt}function Sr(e,t){var n=arguments.length>=2;return function(r){return r.pipe(Z,wr(1),n?mr(t):_r(function(){return new Jt}))}}function Pr(e,t){return x(yr(e,t,arguments.length>=2,!0))}function Or(e){e===void 0&&(e={});var t=e.connector,n=t===void 0?function(){return new Ee}:t,r=e.resetOnError,i=r===void 0?!0:r,o=e.resetOnComplete,u=o===void 0?!0:o,s=e.resetOnRefCountZero,l=s===void 0?!0:s;return function(c){var f,a,d,h=0,v=!1,p=!1,b=function(){a?.unsubscribe(),a=void 0},y=function(){b(),f=d=void 0,v=p=!1},J=function(){var Q=f;y(),Q?.unsubscribe()};return x(function(Q,ot){h++,!p&&!v&&b();var le=d=d??n();ot.add(function(){h--,h===0&&!p&&!v&&(a=De(J,l))}),le.subscribe(ot),!f&&h>0&&(f=new ne({next:function(ce){return le.next(ce)},error:function(ce){p=!0,b(),a=De(y,i,ce),le.error(ce)},complete:function(){v=!0,b(),a=De(y,u),le.complete()}}),$(Q).subscribe(f))})(c)}}function De(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t===!0){e();return}if(t!==!1){var i=new ne({next:function(){i.unsubscribe(),e()}});return $(t.apply(void 0,q([],B(n)))).subscribe(i)}}function Er(e,t,n){var r,i=!1;return r=e,Or({connector:function(){return new Wn(r,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Ar(e){return x(function(t,n){$(e).subscribe(_(n,function(){return n.complete()},ge)),!n.closed&&t.subscribe(n)})}function Ir(e,t,n){var r=m(e)||t||n?{next:e,error:t,complete:n}:e;return r?x(function(i,o){var u;(u=r.subscribe)===null||u===void 0||u.call(r);var s=!0;i.subscribe(_(o,function(l){var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},function(){var l;s=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},function(l){var c;s=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},function(){var l,c;s&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):Z}function Cr(e,t){return x(function(n,r){var i=t??{},o=i.leading,u=o===void 0?!0:o,s=i.trailing,l=s===void 0?!1:s,c=!1,f=null,a=null,d=!1,h=function(){a?.unsubscribe(),a=null,l&&(b(),d&&r.complete())},v=function(){a=null,d&&r.complete()},p=function(y){return a=$(e(y)).subscribe(_(r,h,v))},b=function(){if(c){c=!1;var y=f;f=null,r.next(y),!d&&p(y)}};n.subscribe(_(r,function(y){c=!0,f=y,!(a&&!a.closed)&&(u?b():p(y))},function(){d=!0,!(l&&c&&a&&!a.closed)&&r.complete()}))})}function $r(e,t,n){t===void 0&&(t=tt);var r=Qt(e,t);return Cr(function(){return r},n)}function Tr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Hn(e);return x(function(r,i){for(var o=e.length,u=new Array(o),s=e.map(function(){return!1}),l=!1,c=function(a){$(e[a]).subscribe(_(i,function(d){u[a]=d,!l&&!s[a]&&(s[a]=!0,(l=s.every(Z))&&(s=null))},ge))},f=0;f<o;f++)c(f);r.subscribe(_(i,function(a){if(l){var d=q([a],B(u));i.next(n?n.apply(void 0,q([],B(d))):d)}}))})}var tn=Symbol.for("immer-nothing"),vt=Symbol.for("immer-draftable"),A=Symbol.for("immer-state");function C(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var H=Object.getPrototypeOf;function X(e){return!!e&&!!e[A]}function V(e){return e?nn(e)||Array.isArray(e)||!!e[vt]||!!e.constructor?.[vt]||Ie(e)||Ce(e):!1}var jr=Object.prototype.constructor.toString();function nn(e){if(!e||typeof e!="object")return!1;const t=H(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===jr}function _e(e,t){Ae(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function Ae(e){const t=e[A];return t?t.type_:Array.isArray(e)?1:Ie(e)?2:Ce(e)?3:0}function qe(e,t){return Ae(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function rn(e,t,n){const r=Ae(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Rr(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Ie(e){return e instanceof Map}function Ce(e){return e instanceof Set}function M(e){return e.copy_||e.base_}function We(e,t){if(Ie(e))return new Map(e);if(Ce(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=nn(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[A];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const u=i[o],s=r[u];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[u]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[u]})}return Object.create(H(e),r)}else{const r=H(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function rt(e,t=!1){return $e(e)||X(e)||!V(e)||(Ae(e)>1&&(e.set=e.add=e.clear=e.delete=Dr),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>rt(r,!0))),e}function Dr(){C(2)}function $e(e){return Object.isFrozen(e)}var kr={};function Y(e){const t=kr[e];return t||C(0,e),t}var re;function on(){return re}function Fr(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function yt(e,t){t&&(Y("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ve(e){Ye(e),e.drafts_.forEach(zr),e.drafts_=null}function Ye(e){e===re&&(re=e.parent_)}function mt(e){return re=Fr(re,e)}function zr(e){const t=e[A];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function wt(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[A].modified_&&(Ve(t),C(4)),V(e)&&(e=xe(t,e),t.parent_||Se(t,e)),t.patches_&&Y("Patches").generateReplacementPatches_(n[A].base_,e,t.patches_,t.inversePatches_)):e=xe(t,n,[]),Ve(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==tn?e:void 0}function xe(e,t,n){if($e(t))return t;const r=t[A];if(!r)return _e(t,(i,o)=>gt(e,r,t,i,o,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Se(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,u=!1;r.type_===3&&(o=new Set(i),i.clear(),u=!0),_e(o,(s,l)=>gt(e,r,i,s,l,n,u)),Se(e,i,!1),n&&e.patches_&&Y("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function gt(e,t,n,r,i,o,u){if(X(i)){const s=o&&t&&t.type_!==3&&!qe(t.assigned_,r)?o.concat(r):void 0,l=xe(e,i,s);if(rn(n,r,l),X(l))e.canAutoFreeze_=!1;else return}else u&&n.add(i);if(V(i)&&!$e(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;xe(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Se(e,i)}}function Se(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&rt(t,n)}function Mr(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:on(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=it;n&&(i=[r],o=ie);const{revoke:u,proxy:s}=Proxy.revocable(i,o);return r.draft_=s,r.revoke_=u,s}var it={get(e,t){if(t===A)return e;const n=M(e);if(!qe(n,t))return Ur(e,n,t);const r=n[t];return e.finalized_||!V(r)?r:r===ke(e.base_,t)?(Fe(e),e.copy_[t]=Ge(r,e)):r},has(e,t){return t in M(e)},ownKeys(e){return Reflect.ownKeys(M(e))},set(e,t,n){const r=sn(M(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=ke(M(e),t),o=i?.[A];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Rr(n,i)&&(n!==void 0||qe(e.base_,t)))return!0;Fe(e),Ke(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return ke(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Fe(e),Ke(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=M(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){C(11)},getPrototypeOf(e){return H(e.base_)},setPrototypeOf(){C(12)}},ie={};_e(it,(e,t)=>{ie[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ie.deleteProperty=function(e,t){return ie.set.call(this,e,t,void 0)};ie.set=function(e,t,n){return it.set.call(this,e[0],t,n,e[0])};function ke(e,t){const n=e[A];return(n?M(n):e)[t]}function Ur(e,t,n){const r=sn(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function sn(e,t){if(!(t in e))return;let n=H(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=H(n)}}function Ke(e){e.modified_||(e.modified_=!0,e.parent_&&Ke(e.parent_))}function Fe(e){e.copy_||(e.copy_=We(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Lr=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const u=this;return function(l=o,...c){return u.produce(l,f=>n.call(this,f,...c))}}typeof n!="function"&&C(6),r!==void 0&&typeof r!="function"&&C(7);let i;if(V(t)){const o=mt(this),u=Ge(t,void 0);let s=!0;try{i=n(u),s=!1}finally{s?Ve(o):Ye(o)}return yt(o,r),wt(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===tn&&(i=void 0),this.autoFreeze_&&rt(i,!0),r){const o=[],u=[];Y("Patches").generateReplacementPatches_(t,i,o,u),r(o,u)}return i}else C(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(u,...s)=>this.produceWithPatches(u,l=>t(l,...s));let r,i;return[this.produce(t,n,(u,s)=>{r=u,i=s}),r,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){V(e)||C(8),X(e)&&(e=Nr(e));const t=mt(this),n=Ge(e,void 0);return n[A].isManual_=!0,Ye(t),n}finishDraft(e,t){const n=e&&e[A];(!n||!n.isManual_)&&C(9);const{scope_:r}=n;return yt(r,t),wt(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Y("Patches").applyPatches_;return X(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Ge(e,t){const n=Ie(e)?Y("MapSet").proxyMap_(e,t):Ce(e)?Y("MapSet").proxySet_(e,t):Mr(e,t);return(t?t.scope_:on()).drafts_.push(n),n}function Nr(e){return X(e)||C(10,e),un(e)}function un(e){if(!V(e)||$e(e))return e;const t=e[A];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=We(e,t.scope_.immer_.useStrictShallowCopy_)}else n=We(e,!0);return _e(n,(r,i)=>{rn(n,r,un(i))}),t&&(t.finalized_=!1),n}var I=new Lr,Br=I.produce;I.produceWithPatches.bind(I);I.setAutoFreeze.bind(I);I.setUseStrictShallowCopy.bind(I);I.applyPatches.bind(I);I.createDraft.bind(I);I.finishDraft.bind(I);function qr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ze,bt;function Wr(){return bt||(bt=1,ze=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var u=o[i];if(!e(t[u],n[u]))return!1}return!0}return t!==t&&n!==n}),ze}var Vr=Wr();const Yr=qr(Vr);class O{update(t){}watch(t,n){return be}}class Me extends O{constructor(t){console.error(t),super(),this.error=t}}class Kr{state$;event$=new Ee;constructor(t){this.state$=dr(Zt(t),this.event$.pipe(Pr((r,i)=>{try{return Br(r,i.update.bind(i))}catch(o){return this.event$.next(new Me(o)),r}},t),Ir(r=>window.state=r),Er(1))),this.event$.pipe(Tr(this.state$),nt(([r,i])=>{try{return r.watch(i,this.event$).pipe(en(o=>(this.event$.next(new Me(o)),be)))}catch(o){return this.event$.next(new Me(o)),be}})).subscribe(this.event$)}get state(){return this.state$}emit(t){this.event$.next(t)}select(t){return this.state$.pipe(W(t),gr(Yr))}}const S=new Kr(Gr());function Gr(){return{width:1024,height:768,paused:!1,elements:[{color:"red",x:50,y:50,radius:10,vx:50,vy:30},{color:"green",x:100,y:50,radius:13,vx:100,vy:50},{color:"yellow",x:500,y:50,radius:24,vx:50,vy:100}],history:[]}}function Hr(e){return{x:F(0,e.width),y:F(0,e.height),radius:F(5,75),color:Cn(),vx:F(20,400)*ct(),vy:F(20,400)*ct()}}function Xr(e,t){for(const[n,r]of t.elements.entries())t.dragging!=n&&(r.x+=e/1e3*r.vx,r.y+=e/1e3*r.vy,r.x+r.radius>t.width&&(r.x=t.width-r.radius,r.vx*=-1),r.y+r.radius>t.height&&(r.y=t.height-r.radius,r.vy*=-1),r.x-r.radius<0&&(r.x=r.radius,r.vx*=-1),r.y-r.radius<0&&(r.y=r.radius,r.vy*=-1))}class Zr extends O{watch(){return pr(10).pipe(W(()=>performance.now()),vr(2,1),W(([t,n])=>new Jr(n-t)))}}class Jr extends O{constructor(t){super(),this.delta=t}update(t){t.paused||Xr(this.delta,t)}}class Qr extends O{update(t){t.paused=!t.paused}}class ei extends O{update(t){t.paused=!0}}class ti extends O{constructor(t,n,r){super(),this.idx=t,this.x=n,this.y=r}update(t){t.elements[this.idx].x=this.x,t.elements[this.idx].y=this.y}}class ni extends O{constructor(t){super(),this.idx=t}update(t){t.dragging=this.idx}watch(t,n){const r=n.pipe(Be(i=>i instanceof cn),Sr());return n.pipe(Ar(r),Be(i=>i instanceof ln),W(i=>new ti(this.idx,i.x,i.y)))}}class ln extends O{constructor(t,n){super(),this.x=t,this.y=n}}class cn extends O{constructor(t){super(),this.idx=t}update(t){delete t.dragging}}class fn extends O{constructor(t){super(),this.value=t}update(t){t.elements=this.value}}class ri extends O{watch(t,n){return S.select(r=>[r.paused,r.elements]).pipe(Be(([r,i])=>!r),W(([r,i])=>i),$r(50),W(r=>new ii(r)))}}class ii extends O{constructor(t){super(),this.elements=t}update(t){t.history.push(this.elements)}}class oi extends O{watch(){return Zt(new Zr)}}class si extends O{constructor(t,n){super(),this.width=t,this.height=n}update(t){t.width=this.width,t.height=this.height}}class ui extends O{constructor(t,n){super(),this.x=t,this.y=n}update(t){let n=Hr(t);n.x=this.x,n.y=this.y,t.elements.push(n)}}var li=D('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24 viewBox="0 0 24 24"class="feather feather-play"><polygon points="5 3 19 12 5 21 5 3">'),ci=D('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24 viewBox="0 0 24 24"class="feather feather-pause"><rect x=6 y=4 width=4 height=16></rect><rect x=14 y=4 width=4 height=16>'),fi=D('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24 viewBox="0 0 24 24"class="feather feather-chevrons"><polyline points="11 17 6 12 11 7"></polyline><polyline points="18 17 13 12 18 7">'),ai=D('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24 viewBox="0 0 24 24"fill=none class="feather feather-chevrons"><polyline points="13 17 18 12 13 7"></polyline><polyline points="6 17 11 12 6 7">');const hi=()=>li(),di=()=>ci(),pi=()=>fi(),vi=()=>ai();var yi=D("<div class=ball>"),mi=D("<nav class=controls><button class=playback></button><input type=range id=history name=history min=0>"),wi=D("<aside class=sidebar><button class=close-button></button><textarea class=json-output>"),gi=D("<div class=objects>"),bi=D("<div class=container>");const _i=({idx:e,color:t,x:n,y:r,radius:i})=>{let o=s=>{s.target.setPointerCapture(s.pointerId),S.emit(new ni(e))},u=s=>{s.target.releasePointerCapture(s.pointerId),S.emit(new cn(e))};return(()=>{var s=yi();return s.$$pointerup=u,s.$$pointerdown=o,n+"px"!=null?s.style.setProperty("--data-x",n+"px"):s.style.removeProperty("--data-x"),r+"px"!=null?s.style.setProperty("--data-y",r+"px"):s.style.removeProperty("--data-y"),t!=null?s.style.setProperty("--data-color",t):s.style.removeProperty("--data-color"),i+"px"!=null?s.style.setProperty("--data-radius",i+"px"):s.style.removeProperty("--data-radius"),s})()},xi=()=>{let e=me(S.select(s=>s.paused)),t=me(S.select(s=>s.history)),n=()=>{let s=t();return s&&s.length-1};const r=s=>{S.emit(new Qr)},i=s=>{S.emit(new ei)},o=s=>{let l=t();if(l){let c=s.target.value,f=l[parseInt(c)];f&&S.emit(new fn(f))}};return t()&&(()=>{var s=mi(),l=s.firstChild,c=l.nextSibling;return l.$$click=r,U(l,(()=>{var f=He(()=>!!e());return()=>f()?j(hi,{}):j(di,{})})()),c.$$input=o,c.$$pointerdown=i,N(()=>Ct(c,"max",n())),N(()=>c.value=n()),s})()},Si=()=>{let e=me(S.select(i=>i.elements)),[t,n]=St(!1);const r=i=>{let o=JSON.parse(i.target.value);S.emit(new fn(o))};return(()=>{var i=wi(),o=i.firstChild,u=o.nextSibling;return o.$$click=s=>n(l=>!l),U(o,(()=>{var s=He(()=>!!t());return()=>s()?j(vi,{}):j(pi,{})})()),u.addEventListener("change",r),N(()=>Ct(i,"data-expanded",t())),N(()=>u.value=JSON.stringify(e(),null,2)),i})()},Pi=()=>{let e;const t=me(S.select(r=>r.elements)),n=r=>{r.target==e&&S.emit(new ui(r.offsetX,r.offsetY))};return yn(()=>{new ResizeObserver(i=>{let{width:o,height:u}=i[0].contentRect;S.emit(new si(o,u))}).observe(e)}),(()=>{var r=gi();r.$$click=n;var i=e;return typeof i=="function"?An(i,r):e=r,U(r,()=>t()?.map((o,u)=>j(_i,Sn({idx:u},o)))),r})()},Oi=()=>{let e=t=>{S.emit(new ln(t.clientX,t.clientY))};return(()=>{var t=bi();return t.$$pointermove=e,U(t,j(xi,{}),null),U(t,j(Pi,{}),null),U(t,j(Si,{}),null),t})()};En(["pointerdown","pointerup","click","input","pointermove"]);const Ei=document.getElementById("app");S.emit(new oi);S.emit(new ri);On(()=>j(Oi,{}),Ei);
